じゃんけんゲーム Step2
=========================

## Step2: ランダムで相手の「手」を決めて画面に表示できるようにする

**ゴール**

![Step2のゴール](https://github.com/TechZemi/Janken/blob/master/README/Step2.png?raw=true)


プログラムになって気持ちで考えましょう。ランダムで手を決め、画面に出すためには
以下の順番でやっていきましょう。

1. 整数0、1、2をランダムに出す
2. ランダムに出した整数を元に、グーチョキパーを決める

1ではまず、道具としてランダムの使い方を知りましょう。
そして2で、ランダムで出した0、1、2を元にグーチョキパーを決めるようにしましょう。

---

### Step2-1: ランダムな数字を得る

コンピュータで利用できる「<ruby><rb>Rondom</rb><rt>ランダム</rt></ruby>」は、
初めから都合よくグーチョキパーをランダムで選んでくれたりはしません。
コンピュータはグーチョキパーなんて知りません。

コンピュータが大好きなのは「数字」です。JavaScriptに用意されている
<ruby><rb>Math</rb><rt>マス</rt></ruby>.<ruby><rb>random</rb><rt>ランダム</rt></ruby>
関数も、
ランダムな数字（数学用語で<ruby><rb>乱数</rb><rt>らんすう</rt></ruby>といいます）
を得ることができる機械です。

Mathとは数学のことです。「Math」は、数学に使う便利な道具（＝関数）が詰め込まれた
道具箱と考えて下さい。

![道具箱](https://github.com/TechZemi/Janken/blob/master/README/toolkit.png?raw=true)


**例**
※ index.htmlのscriptタグの一番下に貼って何回か表示させてみよう

```
var 乱数 = Math.random();
alert(乱数);
```

ダイアログにはどんな数字が表示されるだろうか？

**Math.random関数は、0以上1未満**の数値を返す関数です。
ランダムではあるけど、これじゃ使いにくいです。0以上3未満の整数を返すような
関数を作りましょう。

まずは関数にして、作り出した乱数に3を掛けます。

```
// 関数にする
function コンピュータ選ぶ() {
    var 乱数 = Math.random();
    乱数 = 乱数 * 3;
    alert(乱数);
}

// 呼び出しも忘れずに
コンピュータ選ぶ();
```

これで0以上3未満の数値を得られるようになりました。
が、欲しいのは**整数**です。小数点以下いらないですね。どうすればいいでしょう？


---

そうです、いらないので「切り捨て」ちゃいましょう。

Math道具箱には切り捨て、切り上げ、四捨五入といった道具も用意されています。

| <ruby><rb>演算</rb><rt>えんざん</rt></ruby> | 例 |
|:--------:|------------|
| 切り捨て | 乱数 = Math.<ruby><rb>floor</rb><rt>フロア</rt></ruby>(乱数); |
| 切り上げ | 乱数 = Math.<ruby><rb>ceil</rb><rt>シール</rt></ruby>(乱数);  |
| 四捨五入 | 乱数 = Math.<ruby><rb>round</rb><rt>ラウンド</rt></ruby>(乱数); |


![切り捨て／切り上げ／四捨五入](https://github.com/TechZemi/Janken/blob/master/README/round.png?raw=true)

---

### Step2-2: ランダムな数字を元に、グーチョキパーを決める


ランダムな数字、0〜2を得ることまでできました。ここからはしっかりと

ができたら、次はそれを元にグーチョキパーを
決めましょう。Step1-3で使った、「もし、◯◯だったら☓☓」をここでも一度使います。

まずは <ruby><rb>if</rb><rt>イフ</rt></ruby>-<ruby><rb>else</rb><rt>エルス</rt></ruby>
文を使って、

| 乱数 | 動作 |
|:--------:|------------|
| 0のとき | コンピュータダイアログに「グー」と表示 |
| 1のとき | ダイアログに「チョキ」と表示 |
| 2のとき | ダイアログに「パー」と表示 |

できるようにしてみましょう。

**ヒント** 

詳細な手順は、

1. ［HTML］選ぶ前の空欄のためのdivを用意する
2. ［CSS］divの背景を空欄画像にするよう、スタイルを指定する
3. ［JavaScript］空欄画像を表示しているdivタグを登場人物として召喚して変数に詰める
4. ［JavaScript/コンピュータ選ぶ関数内］変数「乱数」が0、1、2のときでif-else文を書く
5. ［JavaScript/if-else文］各<ruby><rb>分岐</rb><rt>ぶんき</rt></ruby>毎に召喚したdivの背景画像を差し替える

となります。

### 今日覚えたい大人のIT用語「スコープ」

![スコープ](https://github.com/TechZemi/Janken/blob/master/README/scope.png?raw=true)

プログラムに出てくる大事な考え方、<ruby><rb>概念</rb><rt>がいねん</rt></ruby>として
スコープと言うものがあります。__スコープとは、関数やif文などの構文の有効範囲__のことです。



プログラムの世界以外でスコープと言えば、銃についている<ruby><rb>照準器</rb><rt>しょうじゅんき</rt></ruby>
もスコープと呼ばれています。照準が合う範囲が銃の射程範囲＝有効範囲ということです。

例えば「自分のそっくりさんがいるかいないか」という話を友達としていたとします。 
それが「自分たちが通う学校の中で」の話ならいないでしょう。 
でもそれが「自分が住む都道府県の中で」あるいは「日本全体で」あるいは
「全世界で」ならば変わってくるかもしれません。

これをスコープという言葉で説明すると、そっくりさんを探すスコープが

1. 学校の中
2. 都道府県の中
3. 日本の中
4. 地球全体

と拡がっていっていると説明できます。

JavaScriptはscriptタグの中に書くのでした。scriptタグの直下をグローバルスコープと
呼びます。グローバルとは“全世界の”という意味です。

```
<script type="text/javascript">
    /* ここはグローバルスコープ（世界全体）です */
</script>
```

グローバルスコープで作られた変数は、scriptタグ内のどこでも使うことができます。

一方で、「日本」という関数を作った場合、それら関数の「{」から「}」までは
日本関数のスコープです。

```
<script type="text/javascript">
    /* ここはグローバルスコープ（世界全体）です */
    
    function 日本() {
        /* ここは日本関数スコープです */
    }
    
    /* ここもグローバルスコープ（世界全体）です */
    
    function アメリカ() {
        /* ここはアメリカ関数スコープです */
    }
    
    /* ここもグローバルスコープ（世界全体）です */
</script>
```

日本関数のスコープ内で作られた変数は、日本関数の中でしか使えません。
グローバルスコープや、アメリカ関数のスコープから使おうとしようとすると、
そんなものはないよとエラーになります。

ここでもう一度、今回作ったプログラムを見てみましょう。

![スコープの例](https://github.com/TechZemi/Janken/blob/master/README/scope-example.png?raw=true)